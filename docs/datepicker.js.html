<!DOCTYPE html>

<html>
<head>
  <title>datepicker.js.coffee</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="change_password.js.html">
                change_password.js.coffee
              </a>
            
              
              <a class="source" href="index.js.html">
                index.js.coffee
              </a>
            
              
              <a class="source" href="login.js.html">
                login.js.coffee
              </a>
            
              
              <a class="source" href="register.js.html">
                register.js.coffee
              </a>
            
              
              <a class="source" href="reset_password.js.html">
                reset_password.js.coffee
              </a>
            
              
              <a class="source" href="validate_registration.js.html">
                validate_registration.js.coffee
              </a>
            
              
              <a class="source" href="activities.js.html">
                activities.js.coffee
              </a>
            
              
              <a class="source" href="notifications.js.html">
                notifications.js.coffee
              </a>
            
              
              <a class="source" href="sheep.js.html">
                sheep.js.coffee
              </a>
            
              
              <a class="source" href="handlebars_helper.js.html">
                handlebars_helper.js.coffee
              </a>
            
              
              <a class="source" href="template_helper.js.html">
                template_helper.js.coffee
              </a>
            
              
              <a class="source" href="activity.js.html">
                activity.js.coffee
              </a>
            
              
              <a class="source" href="notification.js.html">
                notification.js.coffee
              </a>
            
              
              <a class="source" href="sheep.js.html">
                sheep.js.coffee
              </a>
            
              
              <a class="source" href="simulator.js.html">
                simulator.js.coffee
              </a>
            
              
              <a class="source" href="activities.js.html">
                activities.js.coffee
              </a>
            
              
              <a class="source" href="activity_item.js.html">
                activity_item.js.coffee
              </a>
            
              
              <a class="source" href="datepicker.js.html">
                datepicker.js.coffee
              </a>
            
              
              <a class="source" href="filter_bar.js.html">
                filter_bar.js.coffee
              </a>
            
              
              <a class="source" href="form.js.html">
                form.js.coffee
              </a>
            
              
              <a class="source" href="header.js.html">
                header.js.coffee
              </a>
            
              
              <a class="source" href="history.js.html">
                history.js.coffee
              </a>
            
              
              <a class="source" href="index.js.html">
                index.js.coffee
              </a>
            
              
              <a class="source" href="invite.js.html">
                invite.js.coffee
              </a>
            
              
              <a class="source" href="list.js.html">
                list.js.coffee
              </a>
            
              
              <a class="source" href="list_items.js.html">
                list_items.js.coffee
              </a>
            
              
              <a class="source" href="map.js.html">
                map.js.coffee
              </a>
            
              
              <a class="source" href="notifications.js.html">
                notifications.js.coffee
              </a>
            
              
              <a class="source" href="sheep.js.html">
                sheep.js.coffee
              </a>
            
              
              <a class="source" href="sheep_missing.js.html">
                sheep_missing.js.coffee
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>datepicker.js.coffee</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="class"><span class="keyword">class</span> <span class="title">SheepTracker</span>.<span class="title">Views</span>.<span class="title">Datepicker</span> <span class="keyword">extends</span> <span class="title">Thorax</span>.<span class="title">View</span></span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Variables</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  className: <span class="string">"datepicker"</span>
  hidden: <span class="literal">false</span>
  autoRender: <span class="literal">true</span>
  headerFormat: <span class="string">"MMMM YYYY"</span>
  dateFormat: <span class="string">"MM/DD/YYYY"</span>
  firstDayOfWeek: <span class="number">1</span>
  linkTemplate: <span class="literal">null</span>

  position:
    my: <span class="string">'left top'</span>,
    at: <span class="string">'left bottom'</span>,
    collision: <span class="string">'fit'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Bind events on when the user clicks
the calendar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  events:
    <span class="string">"mousedown .datepicker-prev"</span>: (e) -&gt;
      e.preventDefault()</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Go to the previous month</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="property">@prev</span>()

    <span class="string">"mousedown .datepicker-next"</span>: (e) -&gt;
      e.preventDefault()</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Go to the next month</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="property">@next</span>()

    <span class="string">"mousedown .day"</span>: (e) -&gt;
      e.preventDefault()</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Select the day that the user clicked</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="property">@select</span>(e.target.getAttribute(<span class="string">"data-datestamp"</span>))

  initialize: -&gt;
    
    <span class="property">@range</span> = []</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Set the id of the element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@el</span>.id = <span class="property">@id</span> = <span class="string">'dp-'</span> + <span class="keyword">new</span> Date().getTime()</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Hide or show based on variable</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">if</span> <span class="property">@hidden</span> <span class="keyword">then</span> <span class="property">@$el</span>.hide() <span class="keyword">else</span> <span class="property">@$el</span>.show()</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Set current date from Moment.js</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@now</span> = moment()
    <span class="property">@visible</span> = <span class="literal">false</span></pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Renders the view</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@render</span>() <span class="keyword">if</span> <span class="property">@autoRender</span>

  render: -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Empty the calendar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@$el</span>.empty()</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Creates the header and body elements
and renders these</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@$header</span> = $(<span class="string">'&lt;div class="datepicker-header"&gt;&lt;/div&gt;'</span>)
    <span class="property">@$body</span> = $(<span class="string">'&lt;div class="datepicker-body"&gt;&lt;/div&gt;'</span>)
    <span class="property">@renderHeader</span>()
    <span class="property">@renderBody</span>()</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Appends the element to the calendar view</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@$el</span>.append(<span class="property">@$header</span>).append(<span class="property">@$body</span>)

  renderHeader: -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Create button element for previous and
next month</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    prevBtn = document.createElement(<span class="string">'a'</span>)
    prevBtn.className = <span class="string">'datepicker-prev'</span>
    nextBtn = document.createElement(<span class="string">'a'</span>)
    nextBtn.className = <span class="string">'datepicker-next'</span></pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>Create the month title element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@monthHeader</span> = $(<span class="string">'&lt;div class="datepicker-title"&gt;'</span> + <span class="property">@now</span>.format(<span class="property">@headerFormat</span>) + <span class="string">'&lt;/div&gt;'</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>Elements for each day label in the header</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    dayLabels = _.map([<span class="string">"Sun"</span>, <span class="string">"Mon"</span>, <span class="string">"Tue"</span>, <span class="string">"Wed"</span>, <span class="string">"Thurs"</span>, <span class="string">"Fri"</span>, <span class="string">"Sat"</span>], (str) -&gt; <span class="string">'&lt;span&gt;'</span> + str.substr(<span class="number">0</span>, <span class="number">2</span>) + <span class="string">'&lt;/span&gt;'</span>)
    dayLabels = dayLabels.concat(dayLabels.splice(<span class="number">0</span>, <span class="property">@firstDayOfWeek</span>))</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Creates a inner element and appened
the newly created elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    $(document.createElement(<span class="string">"div"</span>))
          .addClass(<span class="string">'datepicker-header-inner'</span>)
          .append(prevBtn)
          .append(<span class="property">@monthHeader</span>)
          .append(nextBtn)
          .append(<span class="string">'&lt;div class="datepicker-daysofweek"&gt;'</span> + dayLabels.join(<span class="string">''</span>) + <span class="string">'&lt;/div&gt;'</span>)
          .appendTo(<span class="property">@$header</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Returns the header element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@$header</span>

  renderBody: -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Get current date from Moment.js</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    today = moment()
    d = moment(<span class="property">@now</span>).date(<span class="number">1</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>If the first day of the month is early in the week, draw the week before.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    firstDay = moment(d).day(<span class="property">@firstDayOfWeek</span>).add(<span class="string">'days'</span>, <span class="number">3</span>)
    <span class="keyword">if</span> firstDay.toDate() &gt; d.toDate()
      d.subtract(<span class="string">'days'</span>, <span class="number">7</span>)

    d = d.day(<span class="property">@firstDayOfWeek</span>)

    <span class="property">@range</span>[<span class="number">0</span>] = moment(d)</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Empty tyhe body element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@$body</span>.empty()</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Render each day in the calendar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">for</span> j <span class="keyword">in</span> [<span class="number">0.</span><span class="number">.5</span>]
      <span class="keyword">for</span> i <span class="keyword">in</span> [<span class="number">0.</span><span class="number">.6</span>]</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>Add classes to the elements</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        classes = [<span class="string">'day'</span>]
        classes.push(<span class="string">'first'</span>) <span class="keyword">if</span> i == <span class="number">0</span>
        classes.push(<span class="string">'last'</span>)  <span class="keyword">if</span> i == <span class="number">6</span></pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Days that are not in the current month</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">if</span> <span class="property">@now</span>.month() != d.month()
          classes.push(<span class="string">'not-in-month'</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>Add class to the date that is today</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="keyword">if</span> (today.toDate().toLocaleDateString() == d.toDate().toLocaleDateString())
          classes.push(<span class="string">'today'</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>Creates an element that holds the day element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E = $(document.createElement(<span class="string">'a'</span>)).attr({
          <span class="string">'data-datestamp'</span>: d.format(<span class="property">@dateFormat</span>),
          <span class="string">'class'</span>: classes.join(<span class="string">' '</span>)
        }).html(d.date())</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>Appends it to the body</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        E.appendTo(<span class="property">@$body</span>)
        d.add(<span class="string">'days'</span>, <span class="number">1</span>)

    <span class="property">@range</span>[<span class="number">1</span>] = d.clone()</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>Returns the body</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@$body</span>

  showDate: (date) -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>Set the current date</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@now</span> = moment(date) <span class="keyword">if</span> date</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>Set the current month and render the body</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@monthHeader</span>.html(<span class="property">@now</span>.format(<span class="property">@headerFormat</span>))
    <span class="property">@renderBody</span>()

  prev: -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>Render the previous month</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@now</span>.subtract(<span class="string">'months'</span>, <span class="number">1</span>)
    <span class="property">@showDate</span>()

  next: -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>Render the next month</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@now</span>.add(<span class="string">'months'</span>, <span class="number">1</span>)
    <span class="property">@showDate</span>()

  show: -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>Display the calendar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@visible</span> = <span class="literal">true</span>
    <span class="property">@$el</span>.show().position(<span class="property">@position</span>)
    <span class="property">@trigger</span>(<span class="string">'show'</span>)

  hide: -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>Hide the calendar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@visible</span> = <span class="literal">false</span>
    <span class="property">@$el</span>.hide()
    <span class="property">@trigger</span>(<span class="string">'hide'</span>)

  select: (date, options) -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>Define the date to be selected</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    date = moment(date) <span class="keyword">if</span> _.isString(date)</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>Extend the options object with the defalts</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    options = _.extend({ silent: <span class="literal">false</span>, toggle: <span class="literal">true</span> }, options)</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>Show the new date unless it&#39;s already visible</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">if</span> date.format(<span class="property">@dateFormat</span>) != <span class="property">@now</span>.format(<span class="property">@dateFormat</span>)
      <span class="property">@showDate</span>(date)</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>Clear the highlight</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@clear</span>() <span class="keyword">if</span>(options.toggle)</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>Highlight the newly selected element </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    elem = <span class="property">@$body</span>.find(<span class="string">'[data-datestamp="'</span> + date.format(<span class="property">@dateFormat</span>) + <span class="string">'"]'</span>).addClass(<span class="string">'highlight'</span>)</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>Trigger the select event on the view</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">if</span> !options.silent
      <span class="property">@trigger</span>(<span class="string">'select'</span>, date, elem)</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>Return this</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">this</span>

  selectRange: (date1, date2, options) -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p>Extend the options object with the defalts</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    options = _.extend({ silent: <span class="literal">false</span>, toggle: <span class="literal">true</span> }, options)</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>Clear the highlight</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@clear</span>() <span class="keyword">if</span> options.toggle</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p>If range is that same select the same day</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="keyword">if</span>(date1 == date2)
      <span class="property">@select</span>(date1, options)
    <span class="keyword">else</span>
      date1 = date1.clone()
      date2 = date2.clone()
      options.toggle = <span class="literal">false</span></pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p>Select all days that are within the range </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>      <span class="keyword">while</span> date1 &lt;= date2
        <span class="property">@select</span>(date1, options)
        date1.setDate(date1.getDate() + <span class="number">1</span>)

  clear: -&gt;</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p>Clear the highlight class and trigger the clear event</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="property">@trigger</span>(<span class="string">'clear'</span>)
    <span class="property">@$body</span>.children().removeClass(<span class="string">'highlight'</span>)</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
